@import "tailwindcss";
@variant dark (&:where(.dark, .dark *));

html,
body,
#app {
    height: 100%;
    margin: 0;
    overflow: hidden; /* Prevent body scroll, handle in components */
    font-family:
        "Inter",
        system-ui,
        -apple-system,
        BlinkMacSystemFont,
        "Segoe UI",
        Roboto,
        Oxygen,
        Ubuntu,
        Cantarell,
        "Open Sans",
        "Helvetica Neue",
        sans-serif;
}

::view-transition-old(root),
::view-transition-new(root) {
    animation: none; /* Disable default fade */
    mix-blend-mode: normal; /* Ensure distinct layers */
}

/* 
  When going FROM Dark (to Light):
  We want the OLD (Dark) layer to be on TOP and shrink.
  So we raise z-index of OLD.
*/
html[data-vt-from="dark"]::view-transition-old(root) {
    z-index: 9999;
}
html[data-vt-from="dark"]::view-transition-new(root) {
    z-index: 1;
}

/* 
  When going FROM Light (to Dark):
  We want the NEW (Dark) layer to be on TOP and expand.
  Default behavior puts NEW on top, so we usually don't need extra z-index,
  but let's be explicit to be safe.
*/
html[data-vt-from="light"]::view-transition-new(root) {
    z-index: 9999;
}
html[data-vt-from="light"]::view-transition-old(root) {
    z-index: 1;
}
